(this["webpackJsonpgoit-react-hw-02-feedback"]=this["webpackJsonpgoit-react-hw-02-feedback"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__39oN5",Modal:"Modal_Modal__1JHsN"}},24:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3jlmw"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1bdRT"}},26:function(e,t,a){e.exports={Button:"Button_Button__1Isrx"}},27:function(e,t,a){e.exports=a(73)},32:function(e,t,a){},33:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(21),o=a.n(c),l=(a(32),a(11)),i=a(2),s=a(3),u=a(5),m=a(4),h=a(6),p=(a(33),a(22)),y=a.n(p),b=(a(55),a(23)),g=a.n(b);var f={searchImages:function(e,t){return g.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=14619699-a58095564fbdec9b5516f2680&per_page=12"))}},d=a(24),S=a.n(d),O=a(8),j=a.n(O),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={query:""},a.searchQuery=function(e){a.setState({query:e.target.value})},a.sendQuery=function(e){e.preventDefault(),a.props.onSearch(a.state.query),a.setState({query:""})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{className:j.a.SearchForm,onSubmit:this.sendQuery},n.a.createElement("button",{type:"submit",className:j.a.SearchFormButton},n.a.createElement("span",{className:j.a.SearchFormButtonLabel},"Search")),n.a.createElement("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.searchQuery,value:this.state.query}))}}]),t}(r.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("header",{className:S.a.Searchbar},n.a.createElement(_,{onSearch:this.props.searchQuery}))}}]),t}(r.Component),v=a(25),E=a.n(v),F=a(9),M=a.n(F),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("li",{className:M.a.ImageGalleryItem},n.a.createElement("img",{src:this.props.tumbnail,alt:"",className:M.a.ImageGalleryItemImage,onClick:this.props.enlargeImg}))}}]),t}(r.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("ul",{className:E.a.ImageGallery},this.props.list.map((function(t){var a=t.id,r=t.webformatURL,c=t.largeImageURL;return n.a.createElement(k,{key:a,tumbnail:r,enlargeImg:function(){e.props.newModal(c)}})})))}}]),t}(r.Component),G=a(10),N=a.n(G),L=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:N.a.Overlay},n.a.createElement("div",{className:N.a.Modal},n.a.createElement("img",{src:this.props.imgSrc,alt:""})))}}]),t}(r.Component),C=a(26),q=a.n(C),B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("button",{className:q.a.Button,type:"button",onClick:this.props.onLoadMore},"Load More..."))}}]),t}(r.Component),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={query:"",page:1,imgGallery:[],imgModal:null,isLoading:!1,error:""},a.fetchSearch=function(){a.setState({isLoading:!0}),f.searchImages(a.state.query,a.state.page).then((function(e){a.setState((function(t){return{imgGallery:[].concat(Object(l.a)(t.imgGallery),Object(l.a)(e.data.hits)),page:t.page+1}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),a.setState({isLoading:!1})}))},a.createSearchQuery=function(e){a.setState({imgGallery:[],query:e,page:1})},a.openModal=function(e){a.setState({imgModal:e})},a.closeModal=function(e){"Escape"===e.code&&a.setState({imgModal:null})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.fetchSearch(),window.addEventListener("keydown",this.closeModal)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.imgGallery,r=e.imgModal;return n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{searchQuery:this.createSearchQuery}),a.length>0&&n.a.createElement(w,{list:a,newModal:this.openModal}),t&&n.a.createElement("div",{className:"loaderWrap"},n.a.createElement(y.a,{type:"MutatingDots",color:"#303F9D",height:100,width:100})),a.length>0&&!t&&n.a.createElement(B,{onLoadMore:this.fetchSearch}),r&&n.a.createElement(L,{imgSrc:r}))}}]),t}(r.Component);o.a.render(n.a.createElement(x,null),document.getElementById("root"))},8:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__33Tek","SearchForm-button":"SearchForm_SearchForm-button__saiE7",SearchFormButton:"SearchForm_SearchFormButton__2plsK",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__3ONwH",SearchFormInput:"SearchForm_SearchFormInput__3CnSl"}},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__HXNrI",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1WoPu"}}},[[27,1,2]]]);
//# sourceMappingURL=main.0af0a693.chunk.js.map